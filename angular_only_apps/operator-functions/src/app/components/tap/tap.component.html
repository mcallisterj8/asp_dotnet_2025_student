<div class="container h-full w-11/12 mx-auto px-4 mt-12 mb-80">
  <div class="mt-8">
    <h2
      class="text-6xl font-bold text-orange-500 mb-8 text-left sm:text-center"
    >
      tap()
    </h2>

    <div class="bg-green-500 text-white text-6xl shadow rounded-lg p-4 mb-6">
      Example A
    </div>
    <div class="bg-white shadow rounded-lg p-4 mb-6">
      <div class="w-full">
        <h2 class="text-3xl font-semibold text-gray-800">Initial Data</h2>
        <ul *ngIf="data" class="flex flex-wrap gap-4 justify-center">
          <li
            *ngFor="let elem of data"
            class="bg-blue-500 text-white text-2xl flex justify-center items-center w-12 h-12 rounded-full hover:bg-blue-700 transition-colors duration-300"
          >
            {{ elem }}
          </li>
        </ul>
      </div>
    </div>
    <button
      (click)="dataA = true"
      class="bg-blue-500 cursor-pointer text-white text-4xl font-semibold px-4 py-3 rounded-lg shadow hover:bg-blue-600 transition duration-300"
    >
      tap() - Only Side Effects
    </button>
    <div class="bg-gray-100 rounded-lg mt-6 shadow p-6 max-w-3xl w-full">
      <div class="text-xl mb-4">
        Only producing side effects - which means only effecting the stream of
        data and nothing outside of the stream.
      </div>
      <pre
        class="text-left text-xl py-4 text-white bg-black whitespace-pre-wrap max-h-96 overflow-y-auto"
      >
        
      this._dataService.data$.pipe(
        tap((dataArr) => &lbrace;
          console.log('Logging in tap() function');
          this.messageA = `Message set in tap() function!`;          
        &rbrace;)
      )
          </pre
      >
    </div>

    <div class="bg-white shadow rounded-lg p-4 mt-6 mb-6">
      <h2 class="text-3xl font-semibold text-green-500">{{ messageA }}</h2>
    </div>

    <div class="bg-white shadow rounded-lg p-4 mt-6 mb-6">
      <div class="w-full">
        <h2 class="text-3xl font-semibold text-gray-800">DataA After</h2>
        <ul
          *ngIf="dataA && (dataA$ | async) as data"
          class="flex flex-wrap gap-4 justify-center"
        >
          <li
            *ngFor="let elem of data"
            class="bg-blue-500 text-white text-2xl flex justify-center items-center w-12 h-12 rounded-full hover:bg-blue-700 transition-colors duration-300"
          >
            {{ elem }}
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="mt-16">
    <div class="bg-purple-500 text-white text-6xl shadow rounded-lg p-4 mb-6">
      Example B
    </div>
    <div class="bg-white shadow rounded-lg p-4 mb-6">
      <div class="w-full">
        <h2 class="text-3xl font-semibold text-gray-800">Initial Data</h2>
        <ul *ngIf="data" class="flex flex-wrap gap-4 justify-center">
          <li
            *ngFor="let elem of data"
            class="bg-blue-500 text-white text-2xl flex justify-center items-center w-12 h-12 rounded-full hover:bg-blue-700 transition-colors duration-300"
          >
            {{ elem }}
          </li>
        </ul>
      </div>
    </div>
    <button
      (click)="dataB = true"
      class="bg-blue-500 cursor-pointer text-white text-4xl font-semibold px-4 py-3 rounded-lg shadow hover:bg-blue-600 transition duration-300"
    >
      tap() - Attempting to Return
    </button>
    <div class="bg-gray-100 rounded-lg mt-6 shadow p-6 max-w-3xl w-full">
      <div class="text-xl mb-4">
        Note that even though we are attempting to return something from tap()
        that return value is ignored.
      </div>
      <pre
        class="text-left text-xl py-4 text-white bg-black whitespace-pre-wrap max-h-96 overflow-y-auto"
      >
        
      this._dataService.data$.pipe(
        tap((dataArr) => &lbrace;
          console.log('Logging in tap() function');
          this.messageB = `Message set in tap() function!`;          

          return dataArr.map((elem) => elem * 2);
        &rbrace;)
      )
          </pre
      >
    </div>

    <div class="bg-white shadow rounded-lg p-4 mt-6 mb-6">
      <h2 class="text-3xl font-semibold text-purple-500">{{ messageB }}</h2>
    </div>

    <div class="bg-white shadow rounded-lg p-4 mt-6 mb-6">
      <div class="w-full">
        <h2 class="text-3xl font-semibold text-gray-800">DataB After</h2>
        <ul
          *ngIf="dataB && (dataB$ | async) as data"
          class="flex flex-wrap gap-4 justify-center"
        >
          <li
            *ngFor="let elem of data"
            class="bg-blue-500 text-white text-2xl flex justify-center items-center w-12 h-12 rounded-full hover:bg-blue-700 transition-colors duration-300"
          >
            {{ elem }}
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
